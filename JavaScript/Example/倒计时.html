<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>倒计时</title>
</head>

<body>
    <h1>倒计时：<time id="time"></time></h1>
</body>
<script>
window.onload = function() {
    showTime();
}

function checkTime(i) {
    // 判断 i 小于10 在i前面加上0
    if (i < 10) {
        i = '0' + i;
    }
    return i;
}

function showTime() {
    var endtime = new Date("2018/00/00,00:00:00") // 截止时间
    var nowtime = new Date(); // 当前时间

    // 用结束时间的毫秒数 减去 当前时间的毫秒数 除以1000 得出相差的秒数；
    var leftTime = parseInt((endtime.getTime() - nowtime.getTime()) / 1000)

    var d = parseInt(leftTime / (24 * 60 * 60)); // 天
    var h = parseInt(leftTime / (60 * 60) % 24); // 小时
    var m = parseInt(leftTime / 60 % 60);   // 分
    var s = parseInt(leftTime % 60);        // 秒

    // 将 分钟和秒传入checkTime()中
    m = checkTime(m);
    s = checkTime(s);

    if (leftTime >= 0) {
        // 将时间放到页面
        document.getElementById("time").innerHTML = d + '天' + h + '小时' + m + '分' + s + '秒';
    } else {
        document.getElementById("time").innerHTML = "结束！"
    }
    // 每秒调用自身
    setTimeout(showTime, 1000)
}
</script>

</html>
